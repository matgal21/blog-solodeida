---
import {
  Astronav,
  MenuItems,
  MenuIcon,
  Dropdown,
  DropdownItems,
  DropdownSubmenu,
} from "astro-navbar";
import Link from "@components/Links.astro";
import { Icon } from "astro-icon/components";
import { SITE_TITLE, HeaderLinks } from "@consts";
import Marquee from "./Marquee.astro";
import PageSearch from "./PageSearch.astro";


---
<head>      
  <link href="/styles/nav.css" rel="stylesheet">
</head>

<header id="sticky-header" class="fondo sticky top-0 lg:flex p-2 mx-0 w-full align-center items-center justify-center bg-blue-700 z-50 transition-all duration-300">
  <a href="/">
    <p id="scroll-h2" class="nav mb-2 mt-2 hidden text-white text-center align-middle justify-center start-0 text-4xl  px-4 mx-2 pt-1">SOLO DE IDA
      <img class="inline-block ml-2 rounded-full shadow-md shadow-stone-50 " src="/img/logos solo de ida/logo azul1.png" width="75px" height="75px">
    </p>
  </a>
  <Astronav closeOnClick class="justify-center">
    <div class="flex w-full lg:w-auto align-center justify-center items-center">
      <div class="flex xl:hidden ">
        <MenuIcon class="w-8 h-8 text-neutral-100 mr-64 my-1" />
        <button
          type="button"
          class="mx-auto my-1 text-neutral-100 align-center justify-center items-center gap-x-2 text-lg font-medium disabled:opacity-50 disabled:pointer-events-none"
          onclick="window.location.href='/search/'"
        >
          <Icon name="tabler:search" class="inline icon-base align-center justify-center items-center" />
          BUSCAR
        </button>
      </div>
    </div>
    <MenuItems class="hidden lg:flex">
      <ul class="flex flex-col lg:flex-row lg:gap-5 text-xl">
        {HeaderLinks.map((link) => (
          <Link
            href={link.href}
            class="px-4 py-3 font-medium mx-auto text-white hover:border-b-4 hover:border-y-neutral-200"
          >
            {link.title}
          </Link>
        ))}
      </ul>
      <div class="flex ml-4">
        <button
          type="button"
          class="mx-auto my-1 px-8 text-neutral-100 align-center justify-center items-center gap-x-2 text-lg font-medium transition disabled:opacity-50 disabled:pointer-events-none border-2 rounded-full border-slate-100/20 hover:border-white"
          onclick="window.location.href='/search/'"
        >
          <Icon name="tabler:search" class="inline icon-base align-center justify-center items-center" />
          BUSCAR
        </button>
      </div>
      <!-- <PageSearch /> -->
    </MenuItems>
  </Astronav>
</header>
<!-- <Marquee /> -->



<script>
  // Ejecuta el script cuando el DOM esté listo
  document.addEventListener('DOMContentLoaded', function() {
    // Obtén los elementos del DOM
    const header = document.getElementById('sticky-header');
    const scrollH2 = document.getElementById('scroll-h2');

    // Verifica que los elementos existen antes de manipularlos
    if (header && scrollH2) {
      // Agregar evento de scroll
      window.addEventListener('scroll', function() {
        // Asegurarse de que window.scrollY no sea null o undefined
        const scrollPos = window.scrollY || 0;
        
        if (scrollPos > 50) {
          // Mostrar el h2 cuando el scroll supere los 50px
          scrollH2.classList.remove('hidden');
          scrollH2.classList.add('block');
        } else {
          // Ocultar el h2 cuando se vuelve al principio
          scrollH2.classList.remove('block');
          scrollH2.classList.add('hidden');
        }
      });
    } else {
      console.error('Elementos no encontrados: #sticky-header o #scroll-h2');
    }
  });
</script>

<style is:global>
  :root {
    --color-primary: #ffa024;
    --color-primary-foreground: #070735;
  }
</style>